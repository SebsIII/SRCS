<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--<link rel="stylesheet" href="style.css">-->
    <title>SRCS Dashboard</title>
</head>
<style>
    
    @font-face { /*Questrial*/
        font-family: "Questrial";
        src: url(/assets/Questrial-Regular.ttf) format("truetype");
    }
    @font-face { /*Oswald*/
        font-family: "Oswald";
        src: url(/assets/Oswald-Regular.ttf) format("truetype");
    }
    @font-face { /*Allura*/
        font-family: "Allura";
        src: url(/assets/Allura-Regular.ttf) format("truetype");
    }

    body{
        width: 100vw;
        height: 100vh;
        overflow: hidden;
        margin: 0px;
        color: white;
        background-color: #0B0B0B;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        font-family: Questrial;
    }

    main{
        width: 90vw;
        height: 85vh;
        background: linear-gradient(to right, rgba(166, 166, 166,0.7), rgba(255, 255, 255,0.7));
        border-radius: 16px;
        margin: 0px;
        box-sizing: border-box;
        padding: 16px;
    }

    header{
        margin: 0px;
        display: flex;
        width: 100vw;
        height: 7.5vh;
        position: absolute;
        top: 0px;
        display: flex;
        align-items: baseline;
        padding-left: 20vw;
    }

    #SRCS-title{
        font-size: 24px;
        font-family: Oswald;
        transition: all 0.3s;
    }
    #SRCS-title:hover{
        cursor: pointer;
        transform: scale(110%);
    }

    #SRCS-subtitle{
        font-size: 22px;
        font-family: Oswald;
        color: violet;
        margin-left: 4px;
    }

    footer{
        margin: 0px;
        display: flex;
        width: 100vw;
        height: 7.5vh;
        position: absolute;
        bottom: 0px;
        display: flex;
        align-items:center;
        justify-content: right;
        padding-right: 15vw;
    }

    #signature{
        font-family: Allura;
        font-size: 26px;
        transition: all 0.3s;
    }
    #signature:hover{
        cursor: pointer;
        transform: scale(110%);
        color: violet;
    }

    #main-title{
        margin: 8px 0px 0px 5%;
        font-size: 24px;
    }

    #weather-div{
        width: 20vw;
        height: 45vh;
        background-color: rgb(207, 104, 207);
        border-radius: 16px;
        position: absolute;
        right: 6.5vw;
        top: 10.5vh;
        box-sizing: border-box;
        padding: 16px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    #align-antenna-btn{
        width: 15vw;
        height: 8vh;
        color: white;
        background-color: rgb(207, 113, 207);
        border: none;
        border-radius: 16px;
        font-family: Questrial;
        font-size: 20px;
        transition: all 0.3s;
        margin: 0px 16px 0px 0px;
    }
    #align-antenna-btn:hover{
        cursor: pointer;
        transform: scale(105%);
        filter: brightness(95%);
    }

    #setup-div{
        width: fit-content;
        height: 8vh;
        margin: 0px;
        position: absolute;
        bottom: 10vh;
        left: 6.5vw;    
        display: flex;
        align-items: center;
    }

    #status-div{
        background-color: white;
        width: 80%;
        height: 2vh;
        border-radius: 16px;
        position: absolute;
        right: 2vw;
        top: 90%;
    }

    .black{
        color: #0b0b0b;
    }

    #weather-title{
        font-size: 22px;
        margin: 4px;
    }

    #temperature-wrapper{
        margin: 16px 0px;
    }

    #temperature-var{
        font-size: 72px;
    }

    #humidity-wrapper{
        margin: 0px;
    }

    #humidity-var{
        font-size: 32px;
    }
</style>


<body>
    <header>
        <p id="SRCS-title" onclick="location.href='index.html'">SRCS</p>
        <p id="SRCS-subtitle">Dashboard</p>
    </header>
    <main>
        <p id="main-title">Reception tab</p>
        <div id="general-data-div">

        </div>
        <div id="N2YO-data-div">

        </div>
        <div id="weather-div">
            <p id="weather-title">Current <a class="black">Weather</a></p>
            <p id="temperature-wrapper" class="black"><a id="temperature-var">-</a>CÂ°</p>
            <p id="humidity-wrapper"><a id="humidity-var">-</a>%</p>
            <p>300lx</p>
            <p class="black">10km/h</p>
            <p class="black">low rain</p>
            <div id="status-div"></div>
        </div>
        <div id="setup-div">
            <button id="align-antenna-btn">Align antenna to startAz</button>
            <p><a id="time-left">-</a> time left.</p>
        </div>
    </main>   
    <footer>
        <p id="signature" onclick="location.href='https://github.com/SebsIII'">By Sebs_</p>
    </footer>
    <script>

        document.getElementById("time-left").innerText = "10:03"

        //document.getElementById("temperature-var").innerText = 32
        //document.getElementById("humidity-var").innerText = 100

        setInterval(function()
        {
            getTemperature();
            getHumidity();
        }, 2000);
        <!------------------------------------------------------------->
        function getTemperature()
        {
            var DHT11Request = new XMLHttpRequest();
            DHT11Request.onreadystatechange = function()
            {
            if(this.readyState == 4 && this.status == 200 && this.responseText != null)
            {
                document.getElementById("temperature-var").innerHTML = this.responseText;
            }
            };
            DHT11Request.open("GET", "readT", true);
            DHT11Request.send();
        }

        function getHumidity()
        {
            var DHT11Request = new XMLHttpRequest();
            DHT11Request.onreadystatechange = function()
            {
            if(this.readyState == 4 && this.status == 200 && this.responseText != null)
            {
                document.getElementById("humidity-var").innerHTML = this.responseText;
            }
            };
            DHT11Request.open("GET", "readH", true);
            DHT11Request.send();
        }

    </script>
</body>
</html>